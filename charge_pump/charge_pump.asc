Version 4.1
SHEET 1 2620 680
WIRE -16 -288 -16 -304
WIRE 1296 -272 1296 -352
WIRE 1584 -208 1584 -224
WIRE -16 -192 -16 -208
WIRE 48 -192 -16 -192
WIRE 1296 -176 1296 -192
WIRE 1344 -176 1296 -176
WIRE -16 -160 -16 -192
WIRE 1296 -160 1296 -176
WIRE 1584 -112 1584 -144
WIRE 1632 -112 1584 -112
WIRE 1744 -112 1696 -112
WIRE 1008 -96 976 -96
WIRE 1584 -96 1584 -112
WIRE 1744 -96 1744 -112
WIRE 1248 -80 1184 -80
WIRE 976 -64 976 -96
WIRE 976 -64 864 -64
WIRE -16 -48 -16 -80
WIRE 80 -48 -16 -48
WIRE 864 -48 864 -64
WIRE -16 -32 -16 -48
WIRE 832 -32 752 -32
WIRE 1680 -32 1584 -32
WIRE 1744 -32 1680 -32
WIRE 1008 -16 896 -16
WIRE 1104 -16 1008 -16
WIRE 832 0 736 0
WIRE 1680 0 1680 -32
WIRE -16 48 -16 32
WIRE 240 48 160 48
WIRE 528 48 464 48
WIRE 864 48 864 16
WIRE 240 112 160 112
WIRE 496 112 464 112
WIRE 624 112 576 112
WIRE -128 128 -144 128
WIRE -128 144 -128 128
WIRE 592 176 464 176
WIRE -128 224 -256 224
WIRE 848 224 848 208
WIRE 912 224 848 224
WIRE 960 224 912 224
WIRE -128 240 -128 224
WIRE 240 240 160 240
WIRE 848 240 848 224
WIRE 1040 240 1040 224
WIRE 848 336 848 320
FLAG -128 240 0
FLAG -144 128 Vcc
FLAG 528 48 Vcc
FLAG 160 48 0
FLAG 160 240 Vcc
FLAG -16 -304 Vcc
FLAG -16 48 0
FLAG 624 112 DIS
FLAG 48 -192 DIS
FLAG 160 112 OUT
FLAG 592 176 OUT
FLAG 80 -48 OUT
FLAG 864 -64 Vcc
FLAG 864 48 0
FLAG 1104 -16 PWM
FLAG 752 -32 OUT
FLAG 848 128 Vcc
FLAG 848 336 0
FLAG 912 224 Vctrl
FLAG 1040 320 0
FLAG 736 0 Vctrl
FLAG 1680 0 0
FLAG 1744 -112 Vout
FLAG 2048 -48 0
FLAG 2048 -128 Vout
FLAG 2288 0 0
FLAG 2288 -80 load
FLAG -256 144 5V
FLAG 1584 -304 pump_in
FLAG 1296 -64 0
FLAG 1184 -80 PWM
FLAG 1344 -176 pump_in
FLAG 1296 -352 5V
SYMBOL voltage -128 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL Misc\\NE555 352 144 R0
SYMATTR InstName U1
SYMBOL res 592 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 7.5k
SYMBOL res -32 -304 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -32 -176 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL cap -32 -32 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL Comparators\\LT1716 864 -16 R0
SYMATTR InstName U2
SYMBOL res 992 -112 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 864 224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 832 224 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 1056 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL voltage 1040 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1.5
SYMBOL res 1568 -320 R0
SYMATTR InstName R8
SYMATTR Value 2
SYMBOL cap 1568 -208 R0
SYMATTR InstName C2
SYMATTR Value 50µ
SYMBOL diode 1696 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value RB532HS-30
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1728 -96 R0
SYMATTR InstName C3
SYMATTR Value 50µ
SYMBOL diode 1568 -96 R0
SYMATTR InstName D1
SYMATTR Value RB532HS-30
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 2032 -144 R0
SYMATTR InstName R9
SYMATTR Value R=V(load)
SYMBOL voltage 2288 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(300 100 1000 0 0 0)
SYMBOL voltage -256 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 8
SYMBOL nmos 1248 -160 R0
SYMATTR InstName M1
SYMATTR Value Si7336ADP
SYMBOL res 1280 -288 R0
SYMATTR InstName R10
SYMATTR Value 1k
TEXT -192 344 Left 2 !.tran 0 1 0 0.00001
TEXT -192 368 Left 2 !.ic V(out) = 0
TEXT -320 -472 Left 2 ;555 Timer from https://e2e.ti.com/support/clock-timing-group/clock-and-timing/f/clock-timing-forum/906800/faq-how-do-i-design-a-pulse-width-modulator-pwm-circuit-using-lmc555-tlc555-lm555-na555-ne555-sa555-or-se555\nhttps://www.ti.com/lit/ta/ssztbg6/ssztbg6.pdf?ts=1759837656057
